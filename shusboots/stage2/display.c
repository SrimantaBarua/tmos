// (C) 2019 Srimanta Barua

#include <display.h>
#include <stdbool.h>
#include <stddef.h>
#include <string.h>

// Declaration of _CHARBITS (defined below)
static const uint8_t _CHARBITS[];

// Internal display state
static bool     _is_init    = false;  // Has display been initialized?
static uint32_t *_fb        = NULL;   // Pointer to framebuffer
static uint32_t *_memb      = NULL;   // Pointer to in-memory buffer
static uint16_t _width      = 0;      // Width of screen in pixels
static uint16_t _height     = 0;      // Height of screen in pixels
static uint16_t _pitch      = 0;      // Number of pixels per line
static uint8_t  _red_mask   = 0;      // Mask for red color
static uint8_t  _red_pos    = 0;      // Bitshift for red color
static uint8_t  _green_mask = 0;      // Mask for green color
static uint8_t  _green_pos  = 0;      // Bitshift for green color
static uint8_t  _blue_mask  = 0;      // Mask for blue color
static uint8_t  _blue_pos   = 0;      // Bitshift for blue color

// Calculate pixel to put for given color
#define pixel_for_color(c) \
	(((uint32_t) ((c).red & _red_mask)) << _red_pos) \
	| (((uint32_t) ((c).green & _green_mask)) << _green_pos) \
	| (((uint32_t) ((c).blue & _blue_mask)) << _blue_pos)

// Calculate offset of given point into framebuffer
#define offset_of(y, x) ((y) * (_pitch >> 2) + (x))


// Initialize display
void display_init(const struct vbe_mode_info *vbe_mode_info) {
	// Store values
	_fb = (uint32_t*) vbe_mode_info->framebuffer;
	_memb = (uint32_t*) 0x200000;
	_width = vbe_mode_info->width;
	_height = vbe_mode_info->height;
	_pitch = vbe_mode_info->pitch;
	_red_mask = (uint8_t) ((((uint16_t) 1 << vbe_mode_info->red_mask_size) - 1) & 0xff);
	_red_pos = vbe_mode_info->red_mask_pos;
	_green_mask = (uint8_t) ((((uint16_t) 1 << vbe_mode_info->green_mask_size) - 1) & 0xff);
	_green_pos = vbe_mode_info->green_mask_pos;
	_blue_mask = (uint8_t) ((((uint16_t) 1 << vbe_mode_info->blue_mask_size) - 1) & 0xff);
	_blue_pos = vbe_mode_info->blue_mask_pos;
	memcpy(_memb, _fb, _height * _pitch);
	_is_init = true;
}


// Put a pixel at given (Y, X) coordinate
void display_putpixel(uint16_t y, uint16_t x, struct color color) {
	uint32_t pixel, offset;
	if (!_is_init) {
		return;
	}
	// Calculate pixel to put
	pixel = pixel_for_color(color);
	// Calculate offset
	offset = offset_of(y, x);
	// Put pixel
	_memb[offset] = pixel;
}


// Clear screen with given color
void display_clear(struct color color) {
	display_rect(0, 0, _height - 1, _width - 1, color);
}


// Draw a rectangle of given color
void display_rect(uint16_t ytl, uint16_t xtl, uint16_t ybr, uint16_t xbr, struct color color) {
	uint32_t pixel, offset, line_num_pix;
	uint16_t i, j;
	if (!_is_init) {
		return;
	}
	pixel = pixel_for_color(color);
	offset = offset_of(ytl, xtl);
	line_num_pix = xbr - xtl + 1;
	for (i = 0; i <= ybr - ytl; i++) {
		for (j = 0; j < line_num_pix; j++) {
			_memb[offset + j] = pixel;
		}
		offset += _pitch >> 2;
	}
}


// Draw a 16x8 character of given color
void display_char(char c, uint16_t ytl, uint16_t xtl, struct color color) {
	uint32_t coff, offset, pixel;
	uint16_t i, j;
	if (!_is_init) {
		return;
	}
	pixel = pixel_for_color(color);
	offset = offset_of(ytl, xtl);
	coff = ((uint32_t) c) * 16;
	for (i = 0; i < 16; i++) {
		for (j = 0; j < 8; j++) {
			if (!(_CHARBITS[coff + i] & (1 << (7 - j)))) {
				continue;
			}
			_memb[offset + j] = pixel;
		}
		offset += _pitch >> 2;
	}
}


// Scroll display down by given number of rows, and color the new pixels with color
void display_scroll_down(uint16_t height, struct color color) {
	uint32_t addr, off, amt;
	if (height >= _height) {
		return display_clear(color);
	}
	addr = (uint32_t) _memb;
	off = height * _pitch;
	amt = (_height - height) * _pitch;
	memcpy((void*) addr, (void*) addr + off, amt);
	display_rect(_height - height, 0, _height - 1, _width - 1, color);
}


// Flush memory buffer to display buffer
void display_flush() {
	if (!_is_init) {
		return;
	}
	memcpy(_fb, _memb, _height * _pitch);
}


// Bitmask for each ASCII character
static const uint8_t _CHARBITS[] = {
	// 0 - 31 are unprintable
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,

	// 32 - ' '
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 33 - '!'
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 34 - '"'
	0b00000000,
	0b00000000,
	0b00100100,
	0b00100100,
	0b00100100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 35 - '#'
	0b00000000,
	0b00000000,
	0b00100100,
	0b00100100,
	0b00100100,
	0b01111110,
	0b00100100,
	0b00100100,
	0b01111110,
	0b00100100,
	0b00100100,
	0b00100100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 36 - '$'
	0b00000000,
	0b00001000,
	0b00111100,
	0b01001010,
	0b01001000,
	0b01001000,
	0b00111100,
	0b00001010,
	0b00001010,
	0b00001010,
	0b01001010,
	0b00111100,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 37 - '%'
	0b00000000,
	0b00000000,
	0b00110010,
	0b00110010,
	0b00000100,
	0b00000100,
	0b00001000,
	0b00001000,
	0b00010000,
	0b00010000,
	0b00100110,
	0b00100110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 38 - '&'
	0b00000000,
	0b00000000,
	0b00110000,
	0b01001000,
	0b01001000,
	0b01001000,
	0b01010000,
	0b00100000,
	0b01010010,
	0b10001100,
	0b10001100,
	0b01110010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 39 - '''
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 40 - '('
	0b00000000,
	0b00000000,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00010000,
	0b00001000,
	0b00000100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 41 - ')'
	0b00000000,
	0b00000000,
	0b00100000,
	0b00010000,
	0b00001000,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 42 - '*'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00101010,
	0b00011100,
	0b00101010,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 43 - '+'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00111110,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 44 - ','
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00010000,
	0b00000000,
	0b00000000,

	// 45 - '-'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 46 - '.'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 47 - '/'
	0b00000000,
	0b00000000,
	0b00000010,
	0b00000010,
	0b00000100,
	0b00000100,
	0b00001000,
	0b00001000,
	0b00010000,
	0b00010000,
	0b00100000,
	0b00100000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 48 - '0'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000110,
	0b01001010,
	0b01010010,
	0b01100010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 49 - '1'
	0b00000000,
	0b00000000,
	0b00001000,
	0b00011000,
	0b00101000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 50 - '2'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b00000010,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b01000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 51 - '3'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b00000010,
	0b00001100,
	0b00000010,
	0b00000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 52 - '4'
	0b00000000,
	0b00000000,
	0b00000110,
	0b00001010,
	0b00010010,
	0b00100010,
	0b01000010,
	0b01000010,
	0b01111110,
	0b00000010,
	0b00000010,
	0b00000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 53 - '5'
	0b00000000,
	0b00000000,
	0b01111110,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111100,
	0b00000010,
	0b00000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 54 - '6'
	0b00000000,
	0b00000000,
	0b00001100,
	0b00010000,
	0b00100000,
	0b01000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000000,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 55 - '7'
	0b00000000,
	0b00000000,
	0b01111110,
	0b01000010,
	0b00000010,
	0b00000010,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 56 - '8'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 57 - '9'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000010,
	0b00000100,
	0b00001000,
	0b00110000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 58 - ':'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 59 - ';'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00010000,
	0b00000000,
	0b00000000,

	// 60 - '<'
	0b00000000,
	0b00000000,
	0b00000010,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b00100000,
	0b00010000,
	0b00001000,
	0b00000100,
	0b00000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 61 - '='
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 62 - '>'
	0b00000000,
	0b00000000,
	0b01000000,
	0b00100000,
	0b00010000,
	0b00001000,
	0b00000100,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b01000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 63 - '?'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b00000010,
	0b00001100,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00000000,
	0b00000000,
	0b00010000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 64 - '@'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01001110,
	0b01010010,
	0b01010010,
	0b01010010,
	0b01010010,
	0b01001100,
	0b01000000,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 65 - 'A'
	0b00000000,
	0b00000000,
	0b00011000,
	0b00100100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 66 - 'B'
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 67 - 'C'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 68 - 'D'
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 69 - 'E'
	0b00000000,
	0b00000000,
	0b01111110,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111100,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 70 - 'F'
	0b00000000,
	0b00000000,
	0b01111110,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111100,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 71 - 'G'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000000,
	0b01000000,
	0b01001110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 72 - 'H'
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 73 - 'I'
	0b00000000,
	0b00000000,
	0b00111110,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 74 - 'J'
	0b00000000,
	0b00000000,
	0b00111110,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00100100,
	0b00011000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 75 - 'K'
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01000100,
	0b01001000,
	0b01110000,
	0b01110000,
	0b01001000,
	0b01000100,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 76 - 'L'
	0b00000000,
	0b00000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 77 - 'M'
	0b00000000,
	0b00000000,
	0b01000001,
	0b01100011,
	0b01010101,
	0b01001001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 78 - 'N'
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01100010,
	0b01010010,
	0b01001010,
	0b01000110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 79 - 'O'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 80 - 'P'
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 81 - 'Q'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00001000,
	0b00000110,
	0b00000000,
	0b00000000,

	// 82 - 'R'
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b01010000,
	0b01001000,
	0b01000100,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 83 - 'S'
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000000,
	0b01000000,
	0b00111100,
	0b00000010,
	0b00000010,
	0b00000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 84 - 'T'
	0b00000000,
	0b00000000,
	0b01111111,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 85 - 'U'
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 86 - 'V'
	0b00000000,
	0b00000000,
	0b01000001,
	0b01000001,
	0b01000001,
	0b00100010,
	0b00100010,
	0b00100010,
	0b00010100,
	0b00010100,
	0b00010100,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 87 - 'W'
	0b00000000,
	0b00000000,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01001001,
	0b01010101,
	0b01100011,
	0b01000001,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 88 - 'X'
	0b00000000,
	0b00000000,
	0b01000001,
	0b01000001,
	0b00100010,
	0b00010100,
	0b00001000,
	0b00010100,
	0b00100010,
	0b00100010,
	0b01000001,
	0b01000001,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 89 - 'Y'
	0b00000000,
	0b00000000,
	0b01000001,
	0b01000001,
	0b00100010,
	0b00010100,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 90 - 'Z'
	0b00000000,
	0b00000000,
	0b01111110,
	0b00000010,
	0b00000010,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b00100000,
	0b01000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 91 - '['
	0b00000000,
	0b00000000,
	0b00111100,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 92 - '\'
	0b00000000,
	0b00000000,
	0b00100000,
	0b00100000,
	0b00010000,
	0b00010000,
	0b00001000,
	0b00001000,
	0b00000100,
	0b00000100,
	0b00000010,
	0b00000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 93 - ']'
	0b00000000,
	0b00000000,
	0b00111100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b00000100,
	0b01111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 94 - '^'
	0b00000000,
	0b00001000,
	0b00010100,
	0b00100010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 95 - '_'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 96 - '`'
	0b00000000,
	0b00100000,
	0b00010000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 97 - 'a'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00011100,
	0b00000010,
	0b00111110,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 98 - 'b'
	0b00000000,
	0b00000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 99 - 'c'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000000,
	0b01000000,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 100 - 'd'
	0b00000000,
	0b00000000,
	0b00000010,
	0b00000010,
	0b00000010,
	0b00000010,
	0b00111110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 101 - 'e'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01111110,
	0b01000000,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 102 - 'f'
	0b00000000,
	0b00000000,
	0b00001100,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00111000,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 103 - 'g'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000010,
	0b00111100,
	0b00000000,
	0b00000000,

	// 104 - 'h'
	0b00000000,
	0b00000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 105 - 'i'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00011000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00011100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 106 - 'j'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00001000,
	0b00000000,
	0b00011000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b01001000,
	0b00010000,
	0b00000000,
	0b00000000,

	// 107 - 'k'
	0b00000000,
	0b00000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000100,
	0b01001000,
	0b01100000,
	0b01010000,
	0b01001000,
	0b01000100,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 108 - 'l'
	0b00000000,
	0b00000000,
	0b00011000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00011100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 109 - 'm'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111110,
	0b01001001,
	0b01001001,
	0b01001001,
	0b01001001,
	0b01001001,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 110 - 'n'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 111 - 'o'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 112 - 'p'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111100,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01111100,
	0b01000000,
	0b01000000,
	0b00000000,
	0b00000000,

	// 113 - 'q'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111110,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000010,
	0b00000010,
	0b00000000,
	0b00000000,

	// 114 - 'r'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01011110,
	0b01100000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b01000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 115 - 's'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00111110,
	0b01000000,
	0b00111100,
	0b00000010,
	0b00000010,
	0b01111100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 116 - 't'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00100000,
	0b00100000,
	0b01111100,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00100000,
	0b00011100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 117 - 'u'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 118 - 'v'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01000001,
	0b00100010,
	0b00100010,
	0b00010100,
	0b00010100,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 119 - 'w'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01000001,
	0b01000001,
	0b01000001,
	0b01001001,
	0b01001001,
	0b00110110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 120 - 'x'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01000010,
	0b00100100,
	0b00011000,
	0b00100100,
	0b01000010,
	0b01000010,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 121 - 'y'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b01000010,
	0b00111110,
	0b00000010,
	0b00111100,
	0b00000000,
	0b00000000,

	// 122 - 'z'
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b01111110,
	0b00000100,
	0b00001000,
	0b00010000,
	0b00100000,
	0b01111110,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 123 - '{'
	0b00000000,
	0b00000000,
	0b00001000,
	0b00010000,
	0b00010000,
	0b00010000,
	0b01100000,
	0b01100000,
	0b00010000,
	0b00010000,
	0b00010000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 124 - '|'
	0b00000000,
	0b00000000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 125 - '}'
	0b00000000,
	0b00000000,
	0b00010000,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00000110,
	0b00000110,
	0b00001000,
	0b00001000,
	0b00001000,
	0b00010000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 126 - '~'
	0b00000000,
	0b00110010,
	0b01001100,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,
	0b00000000,

	// 127 - unprintable
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
